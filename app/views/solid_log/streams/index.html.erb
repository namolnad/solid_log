<div class="streams-page">
  <div class="page-header">
    <h1>Log Stream</h1>
    <div class="page-actions">
      <%= link_to "Dashboard", dashboard_path, class: "btn btn-secondary" %>
    </div>
  </div>

  <div class="streams-container">
    <div class="streams-sidebar">
      <%= render "filter_form" %>
    </div>

    <div class="streams-main">
      <div class="streams-toolbar">
        <div class="streams-count">
          Showing <%= @entries.size %> entries
          <% if @entries.size >= 200 %>
            (limited to 200, use filters to narrow down)
          <% end %>
        </div>
        <div class="streams-actions">
          <button id="live-tail-toggle" class="btn btn-secondary">
            â–¶ Live Tail
          </button>
        </div>
      </div>

      <% if @entries.empty? %>
        <div class="empty-state-large">
          <h2>No log entries found</h2>
          <p>Try adjusting your filters or check that logs are being ingested.</p>
          <%= link_to "View all logs", streams_path, class: "btn btn-primary" %>
        </div>
      <% else %>
        <div class="log-stream">
          <% @entries.each do |entry| %>
            <%= render "log_row", entry: entry, query: @current_filters[:query] %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
